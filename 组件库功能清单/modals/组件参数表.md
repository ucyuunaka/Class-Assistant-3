# 模态弹窗组件参数表

## CSS 类参数

| CSS 类名                           | 属性             | 默认值                        | 描述               |
| ---------------------------------- | ---------------- | ----------------------------- | ------------------ |
| `.modal-container`                 | position         | fixed                         | 模态弹窗定位方式   |
| `.modal-container`                 | background-color | rgba(0, 0, 0, 0.5)            | 半透明背景         |
| `.modal-container`                 | z-index          | 9999                          | 层叠顺序           |
| `.modal-container.active`          | opacity          | 1                             | 激活状态的透明度   |
| `.modal-content`                   | background-color | #fff                          | 内容区背景色       |
| `.modal-content`                   | border-radius    | var(--border-radius-lg)       | 内容区圆角         |
| `.modal-content`                   | max-width        | 500px                         | 默认最大宽度       |
| `.modal-content`                   | max-height       | 90vh                          | 最大高度           |
| `.modal-header`                    | padding          | 1.25rem 1.5rem                | 头部内边距         |
| `.modal-header`                    | border-bottom    | 1px solid var(--border-color) | 头部底部边框       |
| `.modal-title`                     | font-size        | 1.25rem                       | 标题字体大小       |
| `.modal-title`                     | font-weight      | 600                           | 标题字体粗细       |
| `.modal-body`                      | padding          | 1.5rem                        | 内容区内边距       |
| `.modal-footer`                    | padding          | 1.25rem 1.5rem                | 底部内边距         |
| `.modal-footer`                    | border-top       | 1px solid var(--border-color) | 底部顶部边框       |
| `.modal-btn`                       | padding          | 0.625rem 1.25rem              | 按钮内边距         |
| `.modal-sm .modal-content`         | max-width        | 400px                         | 小型弹窗最大宽度   |
| `.modal-lg .modal-content`         | max-width        | 700px                         | 大型弹窗最大宽度   |
| `.modal-xl .modal-content`         | max-width        | 900px                         | 超大型弹窗最大宽度 |
| `.modal-fullscreen .modal-content` | width, height    | 95%                           | 全屏弹窗尺寸       |

## JavaScript 对象与方法参数

### Modal.show(options)

| 参数                    | 类型     | 必需 | 默认值                         | 描述                                                                  |
| ----------------------- | -------- | ---- | ------------------------------ | --------------------------------------------------------------------- |
| options.title           | String   | 否   | '提示'                         | 弹窗标题                                                              |
| options.content         | String   | 否   | ''                             | 弹窗内容(HTML 字符串)                                                 |
| options.type            | String   | 否   | ''                             | 弹窗类型，可选值: '', 'info', 'success', 'warning', 'danger'          |
| options.size            | String   | 否   | ''                             | 弹窗大小，可选值: '', 'sm', 'lg', 'xl', 'fullscreen'                  |
| options.buttons         | Array    | 否   | [{text:'确定',type:'primary'}] | 按钮配置数组                                                          |
| options.closeOnBackdrop | Boolean  | 否   | true                           | 点击背景是否关闭弹窗                                                  |
| options.onOpen          | Function | 否   | null                           | 弹窗打开后的回调                                                      |
| options.onClose         | Function | 否   | null                           | 弹窗关闭后的回调                                                      |
| options.footerAlign     | String   | 否   | ''                             | 底部按钮对齐方式，可选值: '', 'centered', 'spaced', 'left', 'stacked' |

### Modal.close()

无参数，关闭当前活动的模态弹窗。

### Modal.showExisting(modalElement, options)

| 参数                    | 类型        | 必需 | 默认值 | 描述                      |
| ----------------------- | ----------- | ---- | ------ | ------------------------- |
| modalElement            | HTMLElement | 是   | -      | 已存在的模态窗口 DOM 元素 |
| options.onOpen          | Function    | 否   | null   | 弹窗打开后的回调          |
| options.onClose         | Function    | 否   | null   | 弹窗关闭后的回调          |
| options.closeOnBackdrop | Boolean     | 否   | true   | 点击背景是否关闭弹窗      |

### Modal.hideExisting(modalElement)

| 参数         | 类型        | 必需 | 默认值 | 描述                      |
| ------------ | ----------- | ---- | ------ | ------------------------- |
| modalElement | HTMLElement | 是   | -      | 要隐藏的模态窗口 DOM 元素 |

### showModal(title, content, buttons, options)

| 参数    | 类型   | 必需 | 默认值 | 描述                          |
| ------- | ------ | ---- | ------ | ----------------------------- |
| title   | String | 是   | -      | 弹窗标题                      |
| content | String | 是   | -      | 弹窗内容                      |
| buttons | Array  | 否   | null   | 按钮配置数组                  |
| options | Object | 否   | {}     | 其他配置选项，同 Modal.show() |

### showConfirmModal(title, message, confirmCallback, cancelCallback, options)

| 参数                | 类型     | 必需 | 默认值    | 描述                   |
| ------------------- | -------- | ---- | --------- | ---------------------- |
| title               | String   | 是   | -         | 弹窗标题               |
| message             | String   | 是   | -         | 确认消息内容           |
| confirmCallback     | Function | 否   | null      | 点击确认按钮的回调函数 |
| cancelCallback      | Function | 否   | null      | 点击取消按钮的回调函数 |
| options             | Object   | 否   | {}        | 其他配置选项           |
| options.confirmText | String   | 否   | '确认'    | 确认按钮文本           |
| options.cancelText  | String   | 否   | '取消'    | 取消按钮文本           |
| options.confirmType | String   | 否   | 'primary' | 确认按钮类型           |

### showWarningModal(title, message, confirmCallback, options)

| 参数                | 类型     | 必需 | 默认值 | 描述                   |
| ------------------- | -------- | ---- | ------ | ---------------------- |
| title               | String   | 是   | -      | 弹窗标题               |
| message             | String   | 是   | -      | 警告消息内容           |
| confirmCallback     | Function | 否   | null   | 点击确认按钮的回调函数 |
| options             | Object   | 否   | {}     | 其他配置选项           |
| options.confirmText | String   | 否   | '继续' | 确认按钮文本           |

### showDangerModal(title, message, confirmCallback, options)

| 参数                | 类型     | 必需 | 默认值 | 描述                   |
| ------------------- | -------- | ---- | ------ | ---------------------- |
| title               | String   | 是   | -      | 弹窗标题               |
| message             | String   | 是   | -      | 危险操作消息内容       |
| confirmCallback     | Function | 否   | null   | 点击确认按钮的回调函数 |
| options             | Object   | 否   | {}     | 其他配置选项           |
| options.confirmText | String   | 否   | '删除' | 确认按钮文本           |

### showSuccessModal(title, message, callback, options)

| 参数               | 类型     | 必需 | 默认值 | 描述               |
| ------------------ | -------- | ---- | ------ | ------------------ |
| title              | String   | 是   | -      | 弹窗标题           |
| message            | String   | 是   | -      | 成功消息内容       |
| callback           | Function | 否   | null   | 点击按钮的回调函数 |
| options            | Object   | 否   | {}     | 其他配置选项       |
| options.buttonText | String   | 否   | '确定' | 按钮文本           |

### showErrorModal(title, message, callback, options)

| 参数               | 类型     | 必需 | 默认值 | 描述               |
| ------------------ | -------- | ---- | ------ | ------------------ |
| title              | String   | 是   | -      | 弹窗标题           |
| message            | String   | 是   | -      | 错误消息内容       |
| callback           | Function | 否   | null   | 点击按钮的回调函数 |
| options            | Object   | 否   | {}     | 其他配置选项       |
| options.buttonText | String   | 否   | '确定' | 按钮文本           |

## 按钮配置对象参数

每个按钮对象可包含以下属性：

| 属性    | 类型     | 必需 | 默认值      | 描述                                                                     |
| ------- | -------- | ---- | ----------- | ------------------------------------------------------------------------ |
| text    | String   | 是   | -           | 按钮显示文本                                                             |
| type    | String   | 否   | 'secondary' | 按钮类型，可选值: 'primary', 'secondary', 'success', 'warning', 'danger' |
| action  | String   | 否   | ''          | 按钮动作标识                                                             |
| onClick | Function | 否   | null        | 点击按钮的回调函数                                                       |

## HTML 结构

基础模态弹窗的 HTML 结构如下：

```html
<div id="[动态生成的ID]" class="modal-container [size类] [type类]">
  <div class="modal-content">
    <div class="modal-header">
      <h3 class="modal-title">[标题]</h3>
      <button class="modal-close" data-action="close">&times;</button>
    </div>
    <div class="modal-body">[内容]</div>
    <div class="modal-footer [footerAlign类]">
      <button class="modal-btn modal-btn-[type]" data-action="[action]">
        [按钮文本]
      </button>
      <!-- 可能有多个按钮 -->
    </div>
  </div>
</div>
```

## CSS 变量依赖

| 变量名                 | 用途             | 默认值示例                     |
| ---------------------- | ---------------- | ------------------------------ |
| --border-radius-lg     | 弹窗内容圆角     | 8px                            |
| --shadow-lg            | 弹窗阴影         | 0 10px 25px rgba(0, 0, 0, 0.1) |
| --border-color         | 边框颜色         | #e9ecef                        |
| --text-color           | 文本颜色         | #333                           |
| --text-secondary       | 次要文本颜色     | #6c757d                        |
| --primary-color        | 主要按钮颜色     | #3498db                        |
| --primary-dark         | 主要按钮悬停颜色 | #2980b9                        |
| --danger-color         | 危险按钮颜色     | #e53e3e                        |
| --success-color        | 成功按钮颜色     | #10b981                        |
| --warning-color        | 警告按钮颜色     | #f59e0b                        |
| --background-secondary | 次要按钮悬停背景 | #f8f9fa                        |

## 动画效果

| 效果名称 | 描述                     | 实现方式                      |
| -------- | ------------------------ | ----------------------------- |
| 淡入效果 | 弹窗背景从透明到不透明   | CSS 过渡: opacity 0.3s ease   |
| 缩放效果 | 弹窗内容从缩小到正常大小 | CSS 过渡: transform 0.3s ease |
| 淡出效果 | 关闭时的淡出动画         | CSS 过渡 + JS 延时移除元素    |

## 响应式断点

| 断点             | 影响的元素     | 变化                     |
| ---------------- | -------------- | ------------------------ |
| max-width: 768px | .modal-content | 宽度调整为 95%           |
| max-width: 768px | .modal-footer  | 垂直排列按钮             |
| max-width: 768px | .modal-btn     | 宽度 100%，下边距 0.5rem |

## 最佳实践与注意事项

| 注意事项 | 描述                           | 建议                                         |
| -------- | ------------------------------ | -------------------------------------------- |
| 内容长度 | 内容过长会导致滚动             | 控制内容长度，或使用更大尺寸弹窗             |
| 按钮数量 | 按钮过多会影响布局             | 限制按钮数量，或使用 stacked 布局            |
| 弹窗嵌套 | 不支持多层弹窗嵌套             | 关闭当前弹窗后再打开新弹窗                   |
| 内存管理 | 弹窗关闭后会从 DOM 中移除      | 如需保留状态，使用 showExisting/hideExisting |
| 全局引用 | 组件提供全局和模块两种使用方式 | 推荐使用模块导入方式以避免全局污染           |
